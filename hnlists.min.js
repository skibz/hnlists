!function(){var e,t,n,a,o,r,i,s,c=document.querySelector(".pagetop");function l(){var e;c.appendChild(((e=document.createElement("span")).textContent=" | ",e))}c&&(e=hnmain.querySelector("[bgcolor]").getAttribute("bgcolor"),t=127.5<.2126*((o=parseInt(e.slice(1),16))>>16&255)+.7152*(o>>8&255)+.0722*(o>>0&255)?"black":"white",l(),(n=document.createElement("select")).onchange=function(){n.style.width=n.selectedOptions[0].textContent.length+3+"ch","nil"!==n.value&&(location.href=location.origin+n.value)},(r=document.createElement("option")).textContent="Lists",r.value="nil",n.appendChild(r),(a=document.createElement("optgroup")).label="---",[{path:"/active",name:"Active"},{path:"/best",name:"Best"},{path:"/bestcomments",name:"Best Comments"},{path:"/classic",name:"Classic"},{path:"/front",name:"Front",querystring_key:"?day=",querystring_value:function(){return new URLSearchParams(location.search).get("day")||(new Date).toISOString().split("T").shift()}},{path:"/invited",name:"Invited"},{path:"/launches",name:"Launches"},{path:"/leaders",name:"Leaders"},{path:"/shownew",name:"Newest Show HNs"},{path:"/noobcomments",name:"Noob Comments"},{path:"/noobstories",name:"Noob Stories"},{path:"/over",name:"Over",querystring_key:"?points=",querystring_value:function(){return new URLSearchParams(location.search).get("points")||1}},{path:"/pool",name:"Pool"},{path:"/submitted",name:"Who is hiring?",querystring_key:"?id=",querystring_value:function(){return"whoishiring"}}].forEach(function(e){var t=document.createElement("option");t.textContent=e.name,e.querystring_key?(t.value=e.path+e.querystring_key+e.querystring_value(),t.selected=-1!==(location.pathname+location.search).indexOf(e.path+e.querystring_key+e.querystring_value())):(t.value=e.path,t.selected=-1!==location.pathname.indexOf(e.path)),a.appendChild(t)}),n.appendChild(a),n.style.color=t,n.style.border="none",n.style.cursor="pointer",n.style["background-color"]=e,n.style["-moz-appearance"]="-moz-mac-source-list",n.style["-moz-appearance"]="-moz-win-source-list",n.style["-webkit-appearance"]="menulist-button",n.style.width=n.selectedOptions[0].textContent.length+3+"ch",c.appendChild(n),o="/front"===location.pathname,r="/over"===location.pathname,(o||r)&&(l(),(i=document.createElement("input")).type=o?"date":"number",s=o?"day":"points",i.onchange=function(){location.search="?"+[s,i.value].join("=")},i.value=new URLSearchParams(location.search).get(s),i.style.color=t,i.style.border="none",i.style.cursor="pointer",i.style["background-color"]=e,i.style.width=(o?17:8)+"ch",c.appendChild(i)))}();
